(()=>{var t={218:t=>{const e=[5,10,15].map((t=>setTimeout((()=>{ad.track("time"+t)}),1e3*t)));ad.on("cleanup",(function(){e.forEach(clearTimeout)})),t.exports={setupFirstInteractionTracking:function(t){if(!t)throw new Error("A container needs to be passed");t.on("mousedown",(()=>ad.track("first_interaction")),null,!0)}}},300:t=>{var e=createjs,i=function(){if("undefined"!=typeof userId)var t="https://tracking.adikteev.com/apps/ios/com.24option/sessions/cb_custom_tracking/events/EVENT_NAME?idfa="+userId+"&adv_user_id="+creativeId+"&city="+userId;this.urlTrack=t};e.extend(i,e.Container).track=function(t){if(console.log("tracking : "+t),"undefined"!=typeof userId&&"undefined"!=typeof creativeId){var e=new Image,i=this.urlTrack.replace(/EVENT_NAME/g,t);e.src=i}else console.error("Tracker Error : please define creative and/or userId")},t.exports=e.promote(i,"Container")}},e={};function i(s){if(e[s])return e[s].exports;var a=e[s]={exports:{}};return t[s](a,a.exports,i),a.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=i(300),e=i.n(t),s=i(218),a=i.n(s);const o=(t,e)=>(t%e+e)%e,h=(t,e,i,s,a)=>s+(t-e)/(i-e)*(a-s),n=t=>console.log(`%c ${t} `,"background: brown; color: yellow");class r extends createjs.Container{constructor(t={}){if(super(),this.soundButtonOn=new createjs.Bitmap(ad.assets.images.soundOn),this.soundButtonOff=new createjs.Bitmap(ad.assets.images.soundOff),!this.soundButtonOn.image||!this.soundButtonOff.image)return void n("ERROR: sound buttons asset 'soundOn.png' or 'soundOff.png' is missing");const{action:e=(()=>{})}=t;this.lastClick=0,this.isMuted=!0,[this.soundButtonOn,this.soundButtonOff].forEach(((t,e)=>{this.width=t.image.width,this.height=t.image.height,this.regX=this.width,this.regY=this.height,t.visible=1===e,this.addChild(t)}));const i=new createjs.Shape;i.alpha=.01,this.addChild(i),i.graphics.beginFill("white").drawRect(0,0,this.width,this.height),i.on("mousedown",(t=>{t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();const i=(new Date).getTime();i-this.lastClick>250&&(this.isMuted=!this.isMuted,this.soundButtonOn.visible=!this.isMuted,this.soundButtonOff.visible=this.isMuted,this.lastClick=i,e(this.isMuted))})),this.on("pressup",(t=>{t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}))}reset(){this.isMuted=!0,this.soundButtonOn.visible=!1,this.soundButtonOff.visible=!0}}const d=createjs.promote(r,"Container"),c=new(e());class l extends createjs.Container{constructor(t={}){super(),this.args=t;const{loop:e=!1,src:i,debug:s=!1,regX:a=0,regY:o=0,onEnded:h=(()=>{}),onError:r=(()=>{}),splashScreen:d,playbackRate:l=1,showSoundButtons:g=!0,isAutoPlay:u=!0}=t;this.doDebug=s,this.width=0,this.height=0,this.regXcoeff=a,this.regYcoeff=o,this.doLoop=e,this.video=void 0,this.hasInteracted=!1;const m=document.createElement("video");m.id="ak-video",m.style.pointerEvents="none",m.setAttribute("playsinline",null),m.setAttribute("webkit-playsinline",null),m.setAttribute("preload",!0),m.setAttribute("crossorigin","anonymous"),m.muted=!0,m.src=i,this.video=m;const p=new createjs.Bitmap(m);this.addChild(p),this.toRemove=[p],m.addEventListener("loadedmetadata",(()=>{m.canPlayType("video/mp4")&&(this.width=m.videoWidth,this.height=m.videoHeight,this.setRegX(this.regXcoeff),this.setRegY(this.regYcoeff),this.debug(this.doDebug),g&&this._initButtons())}));const f=m.pause();f?f.catch((t=>n("Error"))).then(r):(m.playbackRate=l,m.currentTime=.01,this.play(),!u&&this.stop(),u&&c.track("Video start")),m.onerror=()=>{n("video loading error"),r()},m.onended=()=>{if(c.track("Video viewed: 100%"),h(),this.doLoop&&!d)m.play();else{if(this.toRemove.forEach((t=>createjs.Tween.get(t).to({alpha:0},300))),d&&ad.assets.images[d]){const t=new createjs.Bitmap(ad.assets.images[d]);t.regX=t.image.width/2,t.regY=t.image.height/2,t.x=this.width/2,t.y=this.height/2,t.alpha=0;const e=new createjs.Shape;e.graphics.beginFill("blue").drawRect(0,0,this.width,this.height),t.mask=e;const i=this.width/t.image.width,s=this.height/t.image.height;i>s?t.scaleX=t.scaleY=i:i<s&&(t.scaleX=t.scaleY=s),this.addChild(t),createjs.Tween.get(t).to({alpha:1},300)}this.debug(this.doDebug)}};const w=[!1,!1,!1];m.ontimeupdate=()=>{const{duration:t}=m;w.forEach(((e,i)=>{!e&&.25*(i+1)<m.currentTime/t&&(w[i]=!0,c.track(`Video viewed: ${25*(i+1)}%`))})),this.stopAt&&m.currentTime>=this.stopAt&&this.stop()}}_initButtons(){const t=new d({action:e=>{(()=>{const t=window.chrome,e=window.navigator,i=e.vendor,s=void 0!==window.opr,a=e.userAgent.indexOf("Edge")>-1;return!!e.userAgent.match("CriOS")||null!=t&&"Google Inc."===i&&!1===s&&!1===a})()&&!this.hasInteracted?(this.hasInteracted=!0,t.reset()):this.video.muted=e}});t.x=this.width,t.y=this.height,this.toRemove.push(t),this.addChild(t)}setRegX(t){this.regXcoeff=t,this.regX=t*this.width}setRegY(t){this.regYcoeff=t,this.regY=t*this.height}debug(t){if(this.doDebug=t,this.removeChild(this.debugShape),t){const t=new createjs.Shape;t.graphics.beginFill("red").drawRect(0,0,this.width,this.height),t.alpha=.2,this.addChild(t),this.debugShape=t}}loop(t){this.doLoop=t}play(){this.stopAt=null,this.video&&this.video.play()}stop(){this.stopAt=null,this.video&&this.video.pause()}gotoAndPlay(t){this.video&&void 0!==t&&(this.video.currentTime=t,this.play())}gotoAndStop(t){this.video&&void 0!==t&&(this.video.currentTime=t,this.stop())}playAndStopAt(t){this.video&&void 0!==t&&(this.play(),this.stopAt=t)}getArgs(){return{...this.args,regX:parseFloat(this.regXcoeff),regY:parseFloat(this.regYcoeff),loop:this.doLoop,debug:this.doDebug}}}const g=createjs.promote(l,"Container"),u=(document.createElement("br"),"2d"),m="android",p={debug:!1,width:100,height:100,isVertical:!1,gap:0,alignFocusH:50,alignFocusV:50,alignUnfocus:50,opacityUnfocus:1,scaleUnfocus:1,scaleFocus:1,images:[],splashScreens:[],languageSuffix:"",isCyclic:!0,startIndex:0,fadeObjects:[],urls:[],masked:!0,name:"carousel",autoPlay:0,speedDeceleration:.7,magnetFactor:.15,speedThreshold:.2,showSoundButtons:!0,videoWidth:1,videoHeight:1,tooltip:null,layout:"2d",dragEnabled:!0,onCenteredObject:()=>{},onCenteredFadeObjects:()=>{}},f=ad.assets.images,w=new(e());class b extends createjs.Container{constructor(t={}){super(),this.init(t),this.setupInteractions()}getMousePosition(t){return t[this.isVertical?"localY":"localX"]}setupInteractions(){this.on("mousedown",(t=>{t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),this.startIndex=this.currIdx,this.mouseDown=!0,this.magnet=!1,this.hasInteracted||(clearInterval(this.intervalId),this.hasInteracted=!0,this.hand&&this.removeChild(this.hand)),this.mouseStart=this.mouseLast0=this.mouseLast1=this.getMousePosition(t)})),this.on("pressmove",(t=>{if(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),!this.mouseDown)return;const{startIndex:e,mouseStart:i,mouseLast1:s,isVertical:a,dragEnabled:o}=this,h=this.getMousePosition(t);this.currIdx=e+(i-h)/(a?this.imageHeight:this.imageWidth),this.mouseLast0=s,this.mouseLast1=h,!o&&Math.abs(h-s)>20?this.moveFocus(h<s?1:-1):this.isCyclic||(this.currIdx=Math.min(Math.max(this.currIdx,0),this.nbMedia-1))})),this.on("pressup",(t=>{if(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),!this.mouseDown)return;this.speed=0;const{mouseStart:e,mouseLast0:i,mouseLast1:s,speedThreshold:a}=this;e===this.getMousePosition(t)?this.openUrlAndTrackClick():(e===i?this.openUrlAndTrackClick():(w.track(`${this.name}-swipe`),this.speed=(i-s)/200),Math.abs(this.speed)<a&&this.getToMagnetState()),this.magnet=!1,this.mouseDown=!1})),createjs.Ticker.addEventListener("tick",(()=>this.update()))}init(t){this.controlParams={...p,...t},Object.keys(p).forEach((t=>this[t]=p[t])),Object.keys(t).forEach((e=>this[e]=t[e])),this.media&&this.media.length>0&&(this.images=this.media),this.mediaUrls=this.images.map(((t="")=>t+(t.includes(".mp4")?"":this.languageSuffix?"-"+this.languageSuffix:""))),this.nbMedia=this.mediaUrls.length,this.currIdx=this.startIndex;for(let t=0;t<this.nbMedia;t++)if(!this.mediaUrls[t].includes(".mp4")){const e=new createjs.Bitmap(f[this.mediaUrls[t]]);if(!e.image)return void n(`ERROR: image ${this.mediaUrls[t]} was not found :/`);this.imageWidth=e.image.width,this.imageHeight=e.image.height;break}if(!this.imageWidth||!this.imageHeight){if(!t.videoWidth||!t.videoHeight)return void n("ERROR: please provide the videos dimensions using videoWidth and videoHeight parameters");this.imageWidth=t.videoWidth,this.imageHeight=t.videoHeight}this.autoPlay&&this.setAutoPlay(!0,this.autoPlay);const{width:e,height:i,imageWidth:s,imageHeight:a,isVertical:o,scaleFocus:h,scaleUnfocus:r,alignFocusV:d,alignFocusH:c,gap:l,debug:g=p.debug,masked:u=p.masked}=this;this.mouseDown=!1,this.hasInteracted=!1,this.targetIdx=0,this.mouseStart=0,this.mouseLast0=0,this.mouseLast1=0,this.magnet=!1,this.speed=0,this.boundFocus=o?Math.round((i-a*h)*d/100):Math.round((e-s*h)*c/100);const m=o?a:s;this.deltaBefore=Math.ceil(this.boundFocus/(m*r+l)),this.deltaAfter=Math.ceil(((o?i:e)-this.boundFocus-m*h)/(m*r+l))+1,this.removeAllChildren(),this.container=new createjs.Container,this.addChild(this.container);const w=new createjs.Shape;w.graphics.beginFill("#99000070").drawRect(0,0,this.width,this.height),u&&(this.container.mask=w),g&&this.addChild(w),this.setupClones(),this.setupTooltip(),this.update()}resetCloneImages(){this.allMedia.forEach((t=>t.forEach((t=>{t.mouseEnabled=!1,t.alpha=0}))))}resetFadeObjects(){this.fadeObjects.forEach(((t,e)=>{t&&t.forEach((t=>{t.alpha=0,t.index=e}))}))}update(){switch(this.layout){case u:default:this.update2d();break;case"3d":this.update3d();break;case m:this.updateAndroid()}this.refresh()}update3d(){const t=3.14159,e=2*t,{currIdx:i,nbMedia:s,scaleFocus:a,scaleUnfocus:o,opacityUnfocus:n}=this,{alignUnfocus:r,width:d,height:c,isVertical:l}=this,{alignFocusH:g,alignFocusV:u,imageHeight:m,imageWidth:p}=this,f=[];for(let w=0;w<s;w++){const b=this.getCloneImage(w),v=((w-i)*e/s%e+e)%e;let x=1;v<t?x=h(v,0,t,0,1):v>t&&(x=h(v,e,t,0,1)),l?(b.y=c/2+c/2*(50+r)/100*Math.sin(v),b.x=d/2+(50-g)/100*h(x,0,1,-1,1)*p*a):(b.x=d/2+d/2*(50+r)/100*Math.sin(v),b.y=c/2+(50-u)/100*h(x,0,1,-1,1)*m*a),b.scaleX=b.scaleY=h(x,0,1,a,o),b.alpha=h(x,0,1,1,n),f.push(b)}f.sort(((t,e)=>t.scaleX-e.scaleX)).forEach((t=>this.container.setChildIndex(t,this.container.getNumChildren()-1)))}update2d(){const{scaleUnfocus:t,scaleFocus:e,width:i,currIdx:s,nbMedia:a}=this,{opacityUnfocus:n,isCyclic:r,isVertical:d,height:c,gap:l}=this,{alignFocusH:g,alignFocusV:u,alignUnfocus:m,fadeObjects:p}=this,f=d?this.imageHeight:this.imageWidth,w=d?this.imageWidth:this.imageHeight,b=t*f+l;let v=Math.floor(s)-this.deltaBefore,x=Math.ceil(s)+this.deltaAfter;r||(v=Math.min(Math.max(v,0),a),x=Math.min(Math.max(x,0),a)),this.resetCloneImages(),this.resetFadeObjects();const I=d?"y":"x",y=d?"x":"y",M=d?g:u;for(let r=v;r<x;r++){let g=this.boundFocus+(r-s)*(b+l);const u=((d?i:c)-w*e)*M/100,v=Math.min(Math.abs(r-s),1);r>=s&&(g+=f*h(v,0,1,0,e-t));const x=h(Math.abs(v),0,1,e,t);let C=h(Math.abs(v),0,1,1,n);const k=o(r,a),E=this.getCloneImage(k);E[I]=g,E[y]=u+(e-x)*w*m/100,E.alpha=C,E.scaleX=E.scaleY=x;const j=p[k];j&&j.length>0&&(C=h(Math.abs(v),0,1,1,0),j.forEach((t=>t.alpha=C>t.alpha?C:t.alpha)))}}updateAndroid(){const{scaleUnfocus:t,scaleFocus:e,fadeObjects:i,currIdx:s,nbMedia:a,isVertical:n}=this;let r=Math.floor(s)-1,d=Math.ceil(s)+1;this.resetCloneImages(),this.resetFadeObjects();for(let c=r;c<d;c++){const r=o(c,a),d=this.getCloneImage(r),l=c-s;let g=n?this.width/2:this.boundFocus,u=n?this.boundFocus:this.height/2,m=e,p=0;l>-1&&l<=0&&(this.container.setChildIndex(d,0),n?u+=l*this.imageHeight:g+=l*this.imageWidth,p=h(l,-1,0,0,1)),l>=0&&l<=.7&&(this.container.setChildIndex(d,0),p=h(l,0,.7,1,0),m=h(l,0,.7,e,t)),d.x=g,d.y=u,d.alpha=p,d.scaleX=d.scaleY=m;const f=i[r];f&&f.length>0&&(p=h(Math.abs(l),0,1,1,0),f.forEach((t=>t.alpha=p>t.alpha?p:t.alpha)))}}refresh(){const{mouseDown:t,magnet:e,targetIdx:i,speed:s,speedDeceleration:a}=this,{nbMedia:o,currIdx:h,speedThreshold:n,magnetFactor:r}=this;if(!t&&(e?i!==h&&Math.abs(i-h)<.005?(this.currIdx=i,this.triggerOnCentered()):this.currIdx+=(i-h)*r:Math.abs(s)<n?this.getToMagnetState():(this.currIdx+=s,this.speed*=a),!this.isCyclic)){const t=this.currIdx;this.currIdx=Math.min(Math.max(this.currIdx,0),o-1),t!==this.currIdx&&(this.targetIdx=this.currIdx,this.magnet=!0,this.triggerOnCentered())}}triggerOnCentered(){const t=o(this.currIdx,this.nbMedia);this.allMedia.forEach((t=>t.forEach((t=>t.stop&&t.stop())))),this.allMedia[t].forEach((t=>{t.alpha>.99&&(this.onCenteredObject(t),t.play&&t.play())})),this.onCenteredFadeObjects(this.fadeObjects[t])}getToMagnetState(){const{speed:t,currIdx:e}=this;let i=t>0?Math.floor(e+1):Math.ceil(e-1);0===t&&(i=Math.round(e)),this.magnet=!0,this.targetIdx=i}setupTooltip(){const{tooltip:t,width:e,height:i,isVertical:s}=this;if(t){const a=new createjs.Bitmap(f[t]);a.image?(this.hand=a,a.regX=a.image.width/2,a.regY=a.image.height/2,a.x=s?.5*e:.7*e,a.y=s?.7*i:.5*i,a.mouseEnabled=!1,a.alpha=0,this.addChild(a),createjs.Tween.get(a,{loop:!0}).wait(350).to({alpha:1},300,createjs.Ease.linear).to(s?{y:.3*i}:{x:.3*e},350,createjs.Ease.linear).to({alpha:0},500,createjs.Ease.linear)):n(`ERROR: tooltip image '${t}' was not found :/`)}}setupClones(){const{nbMedia:t,imageWidth:e,imageHeight:i,splashScreens:s}=this,{width:a,height:o,mediaUrls:h,showSoundButtons:n,layout:r}=this,c=this.isVertical?i:e,l=this.isVertical?o:a;this.nbClones=r!==u?1:this.nbClones=Math.ceil(1+Math.ceil((l-c*this.scaleFocus)/(this.scaleUnfocus*c+this.gap))/t);let m=!1;if(this.allMedia=h.map(((t,e)=>{const i=this.getReg("x"),a=this.getReg("y");if(t.includes(".mp4")){const o=new g({src:t,showSoundButtons:!1,isAutoPlay:e===this.startIndex,loop:!0,splashScreen:s[e],regX:i,regY:a});return this.container.addChild(o),o.index=e,m=!0,[o]}{const e=new createjs.Bitmap(f[t]);return new Array(this.nbClones).fill(0).map(((t,s)=>{const o=e.clone();return this.container.addChild(o),o.mouseEnabled=!1,o.index=s,o.regX=i*e.image.width,o.regY=a*e.image.height,o}))}})),m&&n){const t=new d({action:t=>{this.allMedia.forEach((e=>{e[0]&&e[0]&&e[0].video&&(e[0].video.muted=t)}))}});t.x=this.width,t.y=this.height,this.addChild(t)}}getReg(t){switch(this.layout){case u:default:return 0;case"3d":return.5;case m:return this.isVertical?"y"===t?0:.5:"x"===t?0:.5}}getCloneImage(t){for(let e=0;e<this.nbClones;e++){const i=this.allMedia[t][e];if(i&&!i.mouseEnabled)return i.mouseEnabled=!0,i}return this.allMedia[t][0]}openUrlAndTrackClick(){const t=(new Date).getTime();if(!this.clickTime||t-this.clickTime>150){const e=o(Math.round(this.currIdx),this.nbMedia);w.track(`${this.name}-click-item-${e}`),this.urls[e]?ad.open(this.urls[e]):ad.open(),this.clickTime=t}}setAutoPlay(t,e=1.5){t?(this.hasInteracted=!1,this.intervalId=setInterval((()=>this.moveFocus(1,!0)),1e3*e)):clearInterval(this.intervalId)}moveFocus(t,e=!1){w.track(`${this.name}-button-${t>0?"next":"previous"}`),this.magnet=!0,this.mouseDown=!1,this.targetIdx+=t,this.isCyclic||(this.targetIdx=Math.min(Math.max(this.targetIdx,0),this.nbMedia-1)),e||this.hasInteracted||(clearInterval(this.intervalId),this.hasInteracted=!0,this.hand&&this.removeChild(this.hand))}getFocusIndex(){return o(Math.round(this.currIdx),this.nbMedia)}getArgs(){return this.controlParams}}const v=createjs.promote(b,"Container");let x=stage.canvas.width,I=stage.canvas.height;const y=createjs,M=ad.assets.images,C=new y.Container;C.scaleX=x/640,C.scaleY=C.scaleX,stage.addChild(C),x/=C.scaleX,I/=C.scaleY;const k=C.clone();if(stage.addChild(k),window.mraid&&window.mraid.useCustomClose){window.mraid.useCustomClose(!0);const t=new y.Bitmap(M.cross);t.regX=M.cross.width/2,t.regY=M.cross.height/2,t.x=x-M.cross.width,t.y=50,k.addChild(t),t.on("click",(function(){ad.close()}))}const E=new(e());a().setupFirstInteractionTracking(C),E.track("display");const j=(()=>{const t=navigator.language||navigator.userLanguage;console.log("lang: ",t);const e=["fr","de","ja","es"];let i="en";for(let s=0;s<e.length;s++)if(t.startsWith(e[s])){i=e[s];break}return i})();let O=0;const B=new y.Bitmap(M.background),F=new y.Bitmap(M.women);F.regX=F.image.width/2,F.regY=F.image.height,F.x=x/2,F.y=1.3*I;const T=new y.Bitmap(M["man-"+j]);T.regX=T.image.width/2,T.regY=T.image.height/2,T.x=x/2,T.y=I/2;const A=new y.Bitmap(M.phone);A.regX=A.image.width/2,A.regY=A.image.height,A.x=x/2,A.y=1.17*I;const X=new y.Bitmap(M.logo);X.regX=X.image.width/2,X.regY=0,X.x=x/2,X.y=.08*I;const S=new y.Bitmap(M["p1Wording-"+j]);S.x=.08*x,S.y=X.y+90;const Y=new y.Bitmap(M["p2Wording-"+j]);Y.x=.05*x,Y.y=.35*I;const P=new y.Bitmap(M["p3Wording-"+j]);P.regX=P.image.width/2,P.regY=P.image.height,P.x=x/2,P.y=A.y-A.image.height-P.image.height/2-20,new y.Bitmap(M.women),new y.Bitmap(M.man),new y.Bitmap(M.phone),new y.Bitmap(M.p1Wording),new y.Bitmap(M.p2Wording),new y.Bitmap(M.p3Wording),new y.Bitmap(M.ctaSmall);const R=new v({images:["women, p1wording","man, p2wording","phone,p3wrding"],splashScreens:["","",""],isCyclic:!0,masked:!1,scaleUnfocus:1,alignFocusV:50,alignUnfocus:50,alignFocusH:50,opacityUnfocus:.3,speedDeceleration:.92,width:x,height:.45*I,name:"carousel_1",speedThreshold:.02,fadeObjects:[],autoPlay:1.5,tooltip:"hand",layout:"2d"});R.x=.5*x,R.y=.65*I,R.regX=R.width/2,R.regY=R.height/2,C.addChild(B,F,S,P,cta,X),[].forEach((t=>{t.on("click",(()=>{const e=(new Date).getTime();e-O>200&&(E.track("adOpen_click_on_"+t.name),ad.open(),O=e)}))})),[5,10,15].map((t=>setTimeout((()=>E.track("time"+t)),1e3*t))),ad.on("resize",(function(){ad.restart()})),ad.on("cleanup",(function(){}))})()})();